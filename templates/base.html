<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}SwasthBharath - Digital Health Ecosystem{% endblock %}</title>
    
    <!-- DIBM v3 SEO Meta Tags -->
    <meta name="description" content="SwasthBharath - Government of India's official digital health platform providing comprehensive healthcare solutions across all life stages with cutting-edge technology.">
    <meta name="keywords" content="SwasthBharath, Government of India, Digital India, health technology, healthcare, life stages, GOI health portal">
    <meta name="author" content="Government of India - Ministry of Health and Family Welfare">
    <meta name="classification" content="Government">
    <meta name="coverage" content="India">
    <meta name="distribution" content="Global">
    <meta name="rating" content="General">
    <meta name="robots" content="index, follow">
    
    <!-- DIBM v3 Typography - Noto Sans -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400;1,500&display=swap" rel="stylesheet">
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    
    <!-- Accessibility -->
    <meta name="theme-color" content="#1c4587">
</head>
<body>
    <!-- DIBM v3 Government Brand Bar -->
    <div class="govt-brand-bar" role="banner"></div>
    
    <!-- DIBM v3 Skip Navigation -->
    <a class="skip-navigation" href="#main-content">Skip to main content</a>
    
    <!-- Navigation -->
    <nav class="swasth-navbar navbar navbar-expand-lg fixed-top" role="navigation">
        <div class="container-fluid px-4">
            <a class="navbar-brand d-flex align-items-center" href="{{ url_for('index') }}">
                <svg xmlns="http://www.w3.org/2000/svg" width="40" height="34" fill="none" viewBox="0 0 40 34" class="me-2">
                    <path fill="#2D8686" d="m17.836 33.154-14.117-13.1c-.328-.303-.64-.63-.93-.963h6.797a4.38 4.38 0 0 0 4.039-2.68l.82-1.956 3.852 8.503a1.85 1.85 0 0 0 1.672 1.095 1.9 1.9 0 0 0 1.718-1.033L25 16.427l.133.264a4.38 4.38 0 0 0 3.914 2.408h8.164a12 12 0 0 1-.93.962L22.164 33.154A3.18 3.18 0 0 1 20 34a3.18 3.18 0 0 1-2.164-.846m21.516-17.79H29.039a.64.64 0 0 1-.562-.342l-1.813-3.595a1.85 1.85 0 0 0-1.672-1.095 1.9 1.9 0 0 0-1.718 1.033L15 19.573l-.133-.264a4.38 4.38 0 0 0-3.914-2.408H2.789a12 12 0 0 1 .93-.962L17.836.846A3.18 3.18 0 0 1 20 0a3.18 3.18 0 0 1 2.164.846l14.117 13.1c.328.303.64.63.93.963h-6.797a4.38 4.38 0 0 0-4.039 2.68l-.82 1.956-3.852-8.503a1.85 1.85 0 0 0-1.672-1.095 1.9 1.9 0 0 0-1.718 1.033L15 16.427l-.133-.264a4.38 4.38 0 0 0-3.914-2.408H2.789z"/>
                </svg>
                <span class="brand-text">SwasthBharath</span>
            </a>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" 
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('index') }}">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('about') }}">About</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" 
                           aria-expanded="false">Life Stages</a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="{{ url_for('life_stage', stage='prenatal-maternal') }}">Prenatal & Maternal Care</a></li>
                            <li><a class="dropdown-item" href="{{ url_for('life_stage', stage='neonatal-infant') }}">Neonatal & Infant Care</a></li>
                            <li><a class="dropdown-item" href="{{ url_for('life_stage', stage='early-childhood') }}">Early Childhood</a></li>
                            <li><a class="dropdown-item" href="{{ url_for('life_stage', stage='school-adolescence') }}">School Age & Adolescence</a></li>
                            <li><a class="dropdown-item" href="{{ url_for('life_stage', stage='adulthood') }}">Adulthood</a></li>
                            <li><a class="dropdown-item" href="{{ url_for('life_stage', stage='elderly-care') }}">Elderly Care</a></li>
                            <li><a class="dropdown-item" href="{{ url_for('life_stage', stage='end-of-life') }}">End-of-Life & Death Services</a></li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('knowledge_center') }}">Knowledge Center</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('data') }}">Data</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('help_page') }}">Help</a>
                    </li>
                </ul>
                
                <div class="navbar-nav nav-options d-flex align-items-center">
                    <div class="font-size-controls me-3">
                        <button class="btn btn-sm nav-btn" onclick="adjustFontSize('decrease')" aria-label="Decrease font size">A-</button>
                        <button class="btn btn-sm nav-btn" onclick="adjustFontSize('increase')" aria-label="Increase font size">A+</button>
                    </div>
                    
                    <select class="form-select form-select-sm me-3 language-select" style="width: auto;">
                        <option value="english">English</option>
                        <option value="hindi">हिंदी</option>
                    </select>
                    
                    <button class="btn btn-sm nav-btn me-2" data-bs-toggle="modal" data-bs-target="#searchModal" aria-label="Search">
                        <i class="fas fa-search"></i>
                    </button>
                    
                    <button class="btn btn-sm nav-btn me-2" data-bs-toggle="modal" data-bs-target="#loginModal">
                        Login
                    </button>
                    
                    <button class="btn btn-sm nav-btn" data-bs-toggle="modal" data-bs-target="#registerModal">
                        Register
                    </button>
                </div>
            </div>
        </div>
    </nav>
    
    <!-- Main Content -->
    <main id="main-content" role="main">
        {% block content %}{% endblock %}
    </main>
    
    <!-- Footer -->
    <footer class="swasth-footer">
        <div class="footer-container">
            <div class="row">
                <div class="col-md-4 mb-4 footer-column">
                    <div class="d-flex align-items-center mb-3">
                        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="34" fill="none" viewBox="0 0 40 34" class="me-2">
                            <path fill="#2D8686" d="m17.836 33.154-14.117-13.1c-.328-.303-.64-.63-.93-.963h6.797a4.38 4.38 0 0 0 4.039-2.68l.82-1.956 3.852 8.503a1.85 1.85 0 0 0 1.672 1.095 1.9 1.9 0 0 0 1.718-1.033L25 16.427l.133.264a4.38 4.38 0 0 0 3.914 2.408h8.164a12 12 0 0 1-.93.962L22.164 33.154A3.18 3.18 0 0 1 20 34a3.18 3.18 0 0 1-2.164-.846m21.516-17.79H29.039a.64.64 0 0 1-.562-.342l-1.813-3.595a1.85 1.85 0 0 0-1.672-1.095 1.9 1.9 0 0 0-1.718 1.033L15 19.573l-.133-.264a4.38 4.38 0 0 0-3.914-2.408H2.789a12 12 0 0 1 .93-.962L17.836.846A3.18 3.18 0 0 1 20 0a3.18 3.18 0 0 1 2.164.846l14.117 13.1c.328.303.64.63.93.963h-6.797a4.38 4.38 0 0 0-4.039 2.68l-.82 1.956-3.852-8.503a1.85 1.85 0 0 0-1.672-1.095 1.9 1.9 0 0 0-1.718 1.033L15 16.427l-.133-.264a4.38 4.38 0 0 0-3.914-2.408H2.789z"/>
                        </svg>
                        <span class="brand-text">SwasthBharath</span>
                    </div>
                    <p class="footer-description">A GOI initiative to ensure holistic, lifelong well-being through digital tools, expert knowledge, and continuous support.</p>
                    <div class="social-icons">
                        <a href="#" class="social-link"><img src="https://cdn-icons-png.flaticon.com/512/733/733547.png" alt="Facebook" /></a>
                        <a href="#" class="social-link"><img src="https://cdn-icons-png.flaticon.com/512/3670/3670151.png" alt="Twitter" /></a>
                        <a href="#" class="social-link"><img src="https://cdn-icons-png.flaticon.com/512/2111/2111463.png" alt="Instagram" /></a>
                        <a href="#" class="social-link"><img src="https://cdn-icons-png.flaticon.com/512/174/174857.png" alt="LinkedIn" /></a>
                        <a href="#" class="social-link"><img src="https://cdn-icons-png.flaticon.com/512/1384/1384060.png" alt="YouTube" /></a>
                    </div>
                </div>
                
                <div class="col-md-2 mb-4 footer-column">
                    <h4>Quick Links</h4>
                    <a href="{{ url_for('about') }}">About</a>
                    <a href="{{ url_for('knowledge_center') }}">Knowledge Center</a>
                    <a href="#" class="footer-link">Community</a>
                    <a href="{{ url_for('help_page') }}">Help</a>
                </div>
                
                <div class="col-md-2 mb-4 footer-column">
                    <h4>Resources</h4>
                    <a href="{{ url_for('life_stage', stage='prenatal-maternal') }}">Life Stages</a>
                    <a href="#" class="footer-link">Nutrition Tips</a>
                    <a href="#" class="footer-link">Exercise Plans</a>
                    <a href="{{ url_for('data') }}">Health Data</a>
                </div>
                
                <div class="col-md-2 mb-4 footer-column">
                    <h4>Services</h4>
                    <a href="#" class="footer-link">Telemedicine</a>
                    <a href="#" class="footer-link">Health Records</a>
                    <a href="#" class="footer-link">AI Diagnostics</a>
                    <a href="#" class="footer-link">Emergency Care</a>
                </div>
                
                <div class="col-md-2 mb-4 footer-column">
                    <h4>Contact With Us</h4>
                    <a href="mailto:contact@healthhub.in" class="footer-link">contact@healthhub.in</a>
                    <a href="tel:+919999999999" class="footer-link">+91 9999999999</a>
                    <p class="footer-text small mt-2">Ministry of Health & Family Welfare<br>Government of India<br><span class="text-saffron">भारत सरकार</span></p>
                </div>
            </div>
        </div>
        
        <div class="footer-legal">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-md-6">
                        <p class="mb-0">© 2025 SwasthBharath. All Rights Reserved.</p>
                    </div>
                    <div class="col-md-6 text-md-end">
                        <div class="d-flex justify-content-md-end align-items-center">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/4/41/Flag_of_India.svg" alt="भारतीय ध्वज - Indian National Flag" width="30" height="20" class="me-2">
                            <span class="small">Government of India | भारत सरकार</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    
    <!-- Login Modal -->
    <div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="loginModalLabel">Login to SwasthBharath</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="mb-3">
                            <label for="loginEmail" class="form-label">Email address</label>
                            <input type="email" class="form-control" id="loginEmail" required>
                        </div>
                        <div class="mb-3">
                            <label for="loginPassword" class="form-label">Password</label>
                            <input type="password" class="form-control" id="loginPassword" required>
                        </div>
                        <div class="mb-3 form-check">
                            <input type="checkbox" class="form-check-input" id="rememberMe">
                            <label class="form-check-label" for="rememberMe">Remember me</label>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary">Login</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Register Modal -->
    <div class="modal fade" id="registerModal" tabindex="-1" aria-labelledby="registerModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="registerModalLabel">Register for SwasthBharath</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="mb-3">
                            <label for="registerName" class="form-label">Full Name</label>
                            <input type="text" class="form-control" id="registerName" required>
                        </div>
                        <div class="mb-3">
                            <label for="registerEmail" class="form-label">Email address</label>
                            <input type="email" class="form-control" id="registerEmail" required>
                        </div>
                        <div class="mb-3">
                            <label for="registerPassword" class="form-label">Password</label>
                            <input type="password" class="form-control" id="registerPassword" required>
                        </div>
                        <div class="mb-3">
                            <label for="confirmPassword" class="form-label">Confirm Password</label>
                            <input type="password" class="form-control" id="confirmPassword" required>
                        </div>
                        <div class="mb-3 form-check">
                            <input type="checkbox" class="form-check-input" id="agreeTerms" required>
                            <label class="form-check-label" for="agreeTerms">I agree to the Terms of Service</label>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary">Register</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Search Modal -->
    <div class="modal fade" id="searchModal" tabindex="-1" aria-labelledby="searchModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="searchModalLabel">Search SwasthBharath</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="input-group mb-3">
                        <input type="text" class="form-control form-control-lg" id="globalSearch" 
                               placeholder="Search for health topics, life stages, technologies...">
                        <button class="btn btn-primary" type="button" onclick="performGlobalSearch()">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                    <div id="globalSearchResults" class="mt-3"></div>
                    
                    <div class="quick-links mt-4">
                        <h6 class="fw-bold mb-3">Quick Access</h6>
                        <div class="row g-2">
                            <div class="col-md-6">
                                <a href="{{ url_for('life_stage', stage='prenatal-maternal') }}" class="btn btn-outline-primary btn-sm w-100">Prenatal Care</a>
                            </div>
                            <div class="col-md-6">
                                <a href="{{ url_for('life_stage', stage='elderly-care') }}" class="btn btn-outline-primary btn-sm w-100">Elderly Care</a>
                            </div>
                            <div class="col-md-6">
                                <a href="{{ url_for('knowledge_center') }}" class="btn btn-outline-secondary btn-sm w-100">Knowledge Center</a>
                            </div>
                            <div class="col-md-6">
                                <a href="{{ url_for('data') }}" class="btn btn-outline-secondary btn-sm w-100">Health Data</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Custom JS -->
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    
    <!-- Font Size and Search Functionality -->
    <script>
        // Font size adjustment functionality
        function adjustFontSize(action) {
            const body = document.body;
            const currentSize = localStorage.getItem('swasth-font-size') || 'medium';
            let newSize;
            
            if (action === 'increase') {
                newSize = currentSize === 'small' ? 'medium' : currentSize === 'medium' ? 'large' : 'large';
            } else {
                newSize = currentSize === 'large' ? 'medium' : currentSize === 'medium' ? 'small' : 'small';
            }
            
            // Remove existing font size classes
            body.classList.remove('font-size-small', 'font-size-medium', 'font-size-large');
            body.classList.add(`font-size-${newSize}`);
            
            // Store preference
            localStorage.setItem('swasth-font-size', newSize);
        }
        
        // Apply saved font size on load
        document.addEventListener('DOMContentLoaded', function() {
            const savedSize = localStorage.getItem('swasth-font-size') || 'medium';
            document.body.classList.add(`font-size-${savedSize}`);
        });
        
        // Global search functionality
        function performGlobalSearch() {
            const query = document.getElementById('globalSearch').value.trim();
            const resultsDiv = document.getElementById('globalSearchResults');
            
            if (query.length < 2) {
                resultsDiv.innerHTML = '<div class="alert alert-info">Please enter at least 2 characters to search.</div>';
                return;
            }
            
            resultsDiv.innerHTML = '<div class="text-center"><i class="fas fa-spinner fa-spin fa-2x text-primary"></i><p class="mt-2">Searching...</p></div>';
            
            // Search technologies
            fetch(`/api/search-technologies?q=${encodeURIComponent(query)}`)
                .then(response => response.json())
                .then(data => {
                    let html = '';
                    
                    if (data.length === 0) {
                        html = '<div class="alert alert-info">No results found. Try searching for terms like "AI", "IoT", "Telemedicine", or health topics.</div>';
                    } else {
                        html = '<h6 class="fw-bold mb-3">Search Results</h6><div class="row g-3">';
                        data.forEach(item => {
                            html += `
                                <div class="col-md-6">
                                    <div class="card border-primary h-100">
                                        <div class="card-body p-3">
                                            <h6 class="card-title fw-bold text-primary mb-2">${item.title}</h6>
                                            <p class="card-text small text-muted mb-2">${item.description}</p>
                                            <small class="badge bg-light text-dark">Life Stage: ${item.stage}</small>
                                        </div>
                                    </div>
                                </div>
                            `;
                        });
                        html += '</div>';
                    }
                    
                    resultsDiv.innerHTML = html;
                })
                .catch(error => {
                    console.error('Search error:', error);
                    resultsDiv.innerHTML = '<div class="alert alert-danger">Search temporarily unavailable. Please try again later.</div>';
                });
        }
        
        // Enable search on Enter key
        document.addEventListener('DOMContentLoaded', function() {
            const searchInput = document.getElementById('globalSearch');
            if (searchInput) {
                searchInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        performGlobalSearch();
                    }
                });
            }
        });
    </script>
    
    {% block scripts %}{% endblock %}
</body>
</html>
